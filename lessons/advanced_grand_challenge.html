<!-- This file contains ONLY the content for the "Advanced Level Grand Challenge" lesson. -->
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-4xl font-extrabold text-gray-900">Advanced Level Grand Challenge: Real-Time Chat Application
            </h1>
            <span
                class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full whitespace-nowrap">Advanced
                Level</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
            <!-- Progress bar: 100% for advanced (lessons 40-57) -->
            <div class="bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-300"
                style="width: 100%"></div>
        </div>
    </div>

    <!-- Challenge Overview -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-blue-100 bg-opacity-80 backdrop-blur-md border-4 border-blue-300 shadow-lg rounded-full text-3xl text-blue-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üèÜ</span>
            </div>
            <div
                class="bg-gradient-to-br from-blue-50/80 to-white/80 backdrop-blur-md border-2 border-blue-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-blue-800 tracking-tight">Your Ultimate Challenge</h2>
                <p class="text-lg leading-relaxed mb-4">
                    Congratulations! You've reached the pinnacle of the Advanced Level. Now it's time to put all your
                    knowledge to the test by building a <strong class="text-blue-600">Real-Time Chat
                        Application</strong> that demonstrates mastery of every advanced Python concept you've learned.
                </p>
                <p class="text-lg leading-relaxed mb-4">
                    This project will combine <strong>async programming</strong>, <strong>database management</strong>,
                    <strong>API development</strong>, <strong>multithreading</strong>, and <strong>testing</strong> to
                    create a professional-grade application that you can be proud to showcase.
                </p>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <span class="text-yellow-600">‚ö†Ô∏è</span>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                <strong>Prerequisites:</strong> You must complete all Advanced Level lessons (40-57) and
                                pass the Advanced Level Quiz before attempting this challenge.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Overview -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-green-100 bg-opacity-80 backdrop-blur-md border-4 border-green-300 shadow-lg rounded-full text-3xl text-green-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üí¨</span>
            </div>
            <div
                class="bg-gradient-to-br from-green-50/80 to-white/80 backdrop-blur-md border-2 border-green-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-green-800 tracking-tight">What You'll Build</h2>
                <p class="text-lg leading-relaxed mb-4">
                    A fully functional real-time chat application with the following features:
                </p>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-green-800 mb-3">Core Features</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚úÖ Real-time messaging between users</li>
                            <li>‚úÖ Multiple chat rooms</li>
                            <li>‚úÖ User registration and authentication</li>
                            <li>‚úÖ Message persistence in database</li>
                            <li>‚úÖ WebSocket connection handling</li>
                            <li>‚úÖ RESTful API endpoints</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-green-800 mb-3">Advanced Features</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚úÖ File sharing capabilities</li>
                            <li>‚úÖ User typing indicators</li>
                            <li>‚úÖ Message history and search</li>
                            <li>‚úÖ User presence (online/offline)</li>
                            <li>‚úÖ Private messaging</li>
                            <li>‚úÖ Message reactions and emojis</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Technical Requirements -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-purple-100 bg-opacity-80 backdrop-blur-md border-4 border-purple-300 shadow-lg rounded-full text-3xl text-purple-600 transition-transform duration-200 hover:scale-110 animate-fade-in">‚öôÔ∏è</span>
            </div>
            <div
                class="bg-gradient-to-br from-purple-50/80 to-white/80 backdrop-blur-md border-2 border-purple-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-purple-800 tracking-tight">Technical Requirements</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold text-purple-800 mb-3">Architecture Components</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li><strong>Async Web Server:</strong> asyncio + websockets</li>
                            <li><strong>Database Layer:</strong> SQLite with proper schema</li>
                            <li><strong>API Endpoints:</strong> RESTful for chat operations</li>
                            <li><strong>Real-time Messaging:</strong> WebSocket connections</li>
                            <li><strong>User Management:</strong> Authentication & sessions</li>
                            <li><strong>Testing Suite:</strong> Unit tests for all components</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-purple-800 mb-3">Performance Requirements</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li><strong>Concurrent Users:</strong> Handle 100+ simultaneous connections</li>
                            <li><strong>Message Latency:</strong>
                                < 100ms for message delivery</li>
                            <li><strong>Database:</strong> Support 10,000+ messages efficiently</li>
                            <li><strong>Memory:</strong>
                                < 50MB RAM usage for 100 users</li>
                            <li><strong>Scalability:</strong> Horizontal scaling ready</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Project Structure -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-indigo-100 bg-opacity-80 backdrop-blur-md border-4 border-indigo-300 shadow-lg rounded-full text-3xl text-indigo-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üìÅ</span>
            </div>
            <div
                class="bg-gradient-to-br from-indigo-50/80 to-white/80 backdrop-blur-md border-2 border-indigo-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-indigo-800 tracking-tight">Project Structure</h2>
                <div class="code-editor-example mb-6 rounded-2xl">
                    <div class="code-editor-bar">
                        <div class="code-editor-dots flex gap-1">
                            <div class="code-editor-dot-red"></div>
                            <div class="code-editor-dot-yellow"></div>
                            <div class="code-editor-dot-green"></div>
                        </div>
                    </div>
                    <span class="text-gray-400 text-xs">project_structure.txt</span>
                    <pre><code>chat_application/
‚îú‚îÄ‚îÄ main.py                 # Entry point
‚îú‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ chat_server.py     # Main async server
‚îÇ   ‚îú‚îÄ‚îÄ database.py        # Database operations
‚îÇ   ‚îú‚îÄ‚îÄ api.py            # REST API endpoints
‚îÇ   ‚îî‚îÄ‚îÄ websocket.py      # WebSocket handlers
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ user.py           # User model
‚îÇ   ‚îú‚îÄ‚îÄ message.py        # Message model
‚îÇ   ‚îî‚îÄ‚îÄ room.py           # Chat room model
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ test_server.py
‚îÇ   ‚îú‚îÄ‚îÄ test_database.py
‚îÇ   ‚îî‚îÄ‚îÄ test_api.py
‚îú‚îÄ‚îÄ static/
‚îÇ   ‚îú‚îÄ‚îÄ index.html        # Chat interface
‚îÇ   ‚îú‚îÄ‚îÄ style.css
‚îÇ   ‚îî‚îÄ‚îÄ script.js
‚îî‚îÄ‚îÄ requirements.txt</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Implementation Phases -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-yellow-100 bg-opacity-80 backdrop-blur-md border-4 border-yellow-300 shadow-lg rounded-full text-3xl text-yellow-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üöÄ</span>
            </div>
            <div
                class="bg-gradient-to-br from-yellow-50/80 to-white/80 backdrop-blur-md border-2 border-yellow-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-yellow-800 tracking-tight">Implementation Phases</h2>
                <div class="space-y-6">
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-yellow-800 mb-3">Phase 1: Database Design</h3>
                        <p class="text-gray-700 mb-3">Set up SQLite database with proper schema for users, rooms, and
                            messages.</p>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Create users table with authentication</li>
                            <li>‚Ä¢ Design rooms table for chat rooms</li>
                            <li>‚Ä¢ Implement messages table with relationships</li>
                            <li>‚Ä¢ Add proper indexes for performance</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-yellow-800 mb-3">Phase 2: Async WebSocket Server</h3>
                        <p class="text-gray-700 mb-3">Build the core async server using asyncio and websockets.</p>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Implement WebSocket connection handling</li>
                            <li>‚Ä¢ Create message broadcasting system</li>
                            <li>‚Ä¢ Add room management functionality</li>
                            <li>‚Ä¢ Handle client disconnections gracefully</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-yellow-800 mb-3">Phase 3: REST API Endpoints</h3>
                        <p class="text-gray-700 mb-3">Create RESTful API for chat operations and user management.</p>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ User registration and authentication</li>
                            <li>‚Ä¢ Room creation and management</li>
                            <li>‚Ä¢ Message history retrieval</li>
                            <li>‚Ä¢ User presence and status</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-yellow-800 mb-3">Phase 4: Frontend Interface</h3>
                        <p class="text-gray-700 mb-3">Build responsive web interface for the chat application.</p>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Real-time message display</li>
                            <li>‚Ä¢ Room switching functionality</li>
                            <li>‚Ä¢ User interface for sending messages</li>
                            <li>‚Ä¢ Responsive design for mobile devices</li>
                        </ul>
                    </div>
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h3 class="text-xl font-semibold text-yellow-800 mb-3">Phase 5: Testing & Optimization</h3>
                        <p class="text-gray-700 mb-3">Comprehensive testing and performance optimization.</p>
                        <ul class="text-sm text-gray-600 space-y-1">
                            <li>‚Ä¢ Unit tests for all components</li>
                            <li>‚Ä¢ Integration testing</li>
                            <li>‚Ä¢ Performance benchmarking</li>
                            <li>‚Ä¢ Security testing and validation</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Code Examples -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-red-100 bg-opacity-80 backdrop-blur-md border-4 border-red-300 shadow-lg rounded-full text-3xl text-red-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üíª</span>
            </div>
            <div
                class="bg-gradient-to-br from-red-50/80 to-white/80 backdrop-blur-md border-2 border-red-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-red-800 tracking-tight">Key Code Examples</h2>

                <div class="space-y-6">
                    <div>
                        <h3 class="text-xl font-semibold text-red-800 mb-3">1. Database Schema</h3>
                        <div class="code-editor-example mb-4">
                            <div class="code-editor-bar">
                                <div class="code-editor-dots flex gap-1">
                                    <div class="code-editor-dot-red"></div>
                                    <div class="code-editor-dot-yellow"></div>
                                    <div class="code-editor-dot-green"></div>
                                </div>
                            </div>
                            <span class="text-gray-400 text-xs">database.py</span>
                            <pre><code><span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">sqlite3</span>
<span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">asyncio</span>
<span style="color: #6272a4;">from</span> <span style="color: #f8f8f2;">contextlib</span> <span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">asynccontextmanager</span>

<span style="color: #6272a4;">class</span> <span style="color: #50fa7b;">ChatDatabase</span>:
    <span style="color: #6272a4;">def</span> <span style="color: #50fa7b;">__init__</span>(<span style="color: #f8f8f2;">self</span>, <span style="color: #f8f8f2;">db_path</span>=<span style="color: #f1fa8c;">"chat.db"</span>):
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">db_path</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">db_path</span>
        <span style="color: #f8f8f2;">self</span>.<span style="color: #50fa7b;">init_database</span>()
    
    <span style="color: #6272a4;">def</span> <span style="color: #50fa7b;">init_database</span>(<span style="color: #f8f8f2;">self</span>):
        <span style="color: #6272a4;">with</span> <span style="color: #f8f8f2;">sqlite3</span>.<span style="color: #50fa7b;">connect</span>(<span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">db_path</span>) <span style="color: #6272a4;">as</span> <span style="color: #f8f8f2;">conn</span>:
            <span style="color: #f8f8f2;">conn</span>.<span style="color: #50fa7b;">execute</span>(<span style="color: #f1fa8c;">"""
                CREATE TABLE IF NOT EXISTS users (
                    id INTEGER PRIMARY KEY,
                    username TEXT UNIQUE NOT NULL,
                    password_hash TEXT NOT NULL,
                    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
                )
            """</span>)
            
            <span style="color: #f8f8f2;">conn</span>.<span style="color: #50fa7b;">execute</span>(<span style="color: #f1fa8c;">"""
                CREATE TABLE IF NOT EXISTS rooms (
                    id INTEGER PRIMARY KEY,
                    name TEXT UNIQUE NOT NULL,
                    created_by INTEGER,
                    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (created_by) REFERENCES users (id)
                )
            """</span>)
            
            <span style="color: #f8f8f2;">conn</span>.<span style="color: #50fa7b;">execute</span>(<span style="color: #f1fa8c;">"""
                CREATE TABLE IF NOT EXISTS messages (
                    id INTEGER PRIMARY KEY,
                    room_id INTEGER,
                    user_id INTEGER,
                    content TEXT NOT NULL,
                    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
                    FOREIGN KEY (room_id) REFERENCES rooms (id),
                    FOREIGN KEY (user_id) REFERENCES users (id)
                )
            """</span>)</code></pre>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-semibold text-red-800 mb-3">2. Async WebSocket Server</h3>
                        <div class="code-editor-example mb-4">
                            <div class="code-editor-bar">
                                <div class="code-editor-dots flex gap-1">
                                    <div class="code-editor-dot-red"></div>
                                    <div class="code-editor-dot-yellow"></div>
                                    <div class="code-editor-dot-green"></div>
                                </div>
                            </div>
                            <span class="text-gray-400 text-xs">chat_server.py</span>
                            <pre><code><span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">asyncio</span>
<span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">websockets</span>
<span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">json</span>
<span style="color: #6272a4;">from</span> <span style="color: #f8f8f2;">typing</span> <span style="color: #6272a4;">import</span> <span style="color: #f8f8f2;">Dict</span>, <span style="color: #f8f8f2;">Set</span>

<span style="color: #6272a4;">class</span> <span style="color: #50fa7b;">ChatServer</span>:
    <span style="color: #6272a4;">def</span> <span style="color: #50fa7b;">__init__</span>(<span style="color: #f8f8f2;">self</span>):
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">clients</span>: <span style="color: #f8f8f2;">Dict</span>[<span style="color: #f8f8f2;">str</span>, <span style="color: #f8f8f2;">websockets</span>.<span style="color: #f8f8f2;">WebSocketServerProtocol</span>] <span style="color: #ff79c6;">=</span> {}
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">rooms</span>: <span style="color: #f8f8f2;">Dict</span>[<span style="color: #f8f8f2;">str</span>, <span style="color: #f8f8f2;">Set</span>[<span style="color: #f8f8f2;">str</span>]] <span style="color: #ff79c6;">=</span> {}
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">db</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">ChatDatabase</span>()
    
    <span style="color: #6272a4;">async def</span> <span style="color: #50fa7b;">handle_client</span>(<span style="color: #f8f8f2;">self</span>, <span style="color: #f8f8f2;">websocket</span>, <span style="color: #f8f8f2;">path</span>):
        <span style="color: #f8f8f2;">client_id</span> <span style="color: #ff79c6;">=</span> <span style="color: #6272a4;">None</span>
        <span style="color: #6272a4;">try</span>:
            <span style="color: #6272a4;">async for</span> <span style="color: #f8f8f2;">message</span> <span style="color: #6272a4;">in</span> <span style="color: #f8f8f2;">websocket</span>:
                <span style="color: #f8f8f2;">data</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">json</span>.<span style="color: #50fa7b;">loads</span>(<span style="color: #f8f8f2;">message</span>)
                
                <span style="color: #6272a4;">if</span> <span style="color: #f8f8f2;">data</span>[<span style="color: #f1fa8c;">'type'</span>] <span style="color: #ff79c6;">==</span> <span style="color: #f1fa8c;">'register'</span>:
                    <span style="color: #f8f8f2;">client_id</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">data</span>[<span style="color: #f1fa8c;">'username'</span>]
                    <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">clients</span>[<span style="color: #f8f8f2;">client_id</span>] <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">websocket</span>
                    <span style="color: #ff79c6;">await</span> <span style="color: #f8f8f2;">self</span>.<span style="color: #50fa7b;">broadcast_user_joined</span>(<span style="color: #f8f8f2;">client_id</span>)
                
                <span style="color: #6272a4;">elif</span> <span style="color: #f8f8f2;">data</span>[<span style="color: #f1fa8c;">'type'</span>] <span style="color: #ff79c6;">==</span> <span style="color: #f1fa8c;">'message'</span>:
                    <span style="color: #ff79c6;">await</span> <span style="color: #f8f8f2;">self</span>.<span style="color: #50fa7b;">handle_message</span>(<span style="color: #f8f8f2;">client_id</span>, <span style="color: #f8f8f2;">data</span>)
                
                <span style="color: #6272a4;">elif</span> <span style="color: #f8f8f2;">data</span>[<span style="color: #f1fa8c;">'type'</span>] <span style="color: #ff79c6;">==</span> <span style="color: #f1fa8c;">'join_room'</span>:
                    <span style="color: #ff79c6;">await</span> <span style="color: #f8f8f2;">self</span>.<span style="color: #50fa7b;">join_room</span>(<span style="color: #f8f8f2;">client_id</span>, <span style="color: #f8f8f2;">data</span>[<span style="color: #f1fa8c;">'room'</span>])
                
        <span style="color: #6272a4;">except</span> <span style="color: #f8f8f2;">websockets</span>.<span style="color: #f8f8f2;">exceptions</span>.<span style="color: #f8f8f2;">ConnectionClosed</span>:
            <span style="color: #6272a4;">pass</span>
        <span style="color: #6272a4;">finally</span>:
            <span style="color: #6272a4;">if</span> <span style="color: #f8f8f2;">client_id</span>:
                <span style="color: #ff79c6;">await</span> <span style="color: #f8f8f2;">self</span>.<span style="color: #50fa7b;">handle_client_disconnect</span>(<span style="color: #f8f8f2;">client_id</span>)</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Assessment Rubric -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-orange-100 bg-opacity-80 backdrop-blur-md border-4 border-orange-300 shadow-lg rounded-full text-3xl text-orange-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üìä</span>
            </div>
            <div
                class="bg-gradient-to-br from-orange-50/80 to-white/80 backdrop-blur-md border-2 border-orange-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-orange-800 tracking-tight">Assessment Rubric</h2>
                <div class="overflow-x-auto">
                    <table class="min-w-full bg-white border border-gray-300 rounded-lg">
                        <thead class="bg-orange-50">
                            <tr>
                                <th class="px-4 py-2 text-left text-orange-800 font-semibold">Criteria</th>
                                <th class="px-4 py-2 text-center text-orange-800 font-semibold">Excellent (90-100%)</th>
                                <th class="px-4 py-2 text-center text-orange-800 font-semibold">Good (70-89%)</th>
                                <th class="px-4 py-2 text-center text-orange-800 font-semibold">Satisfactory (60-69%)
                                </th>
                            </tr>
                        </thead>
                        <tbody class="text-sm">
                            <tr class="border-b">
                                <td class="px-4 py-2 font-medium">Async Implementation</td>
                                <td class="px-4 py-2 text-center">Perfect async/await usage, handles 100+ connections
                                </td>
                                <td class="px-4 py-2 text-center">Good async patterns, handles 50+ connections</td>
                                <td class="px-4 py-2 text-center">Basic async implementation</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-2 font-medium">Database Design</td>
                                <td class="px-4 py-2 text-center">Normalized schema, efficient queries, migrations</td>
                                <td class="px-4 py-2 text-center">Good schema design, basic queries</td>
                                <td class="px-4 py-2 text-center">Simple schema, basic CRUD</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-2 font-medium">API Design</td>
                                <td class="px-4 py-2 text-center">RESTful, comprehensive endpoints, proper error
                                    handling</td>
                                <td class="px-4 py-2 text-center">Good API structure, basic endpoints</td>
                                <td class="px-4 py-2 text-center">Basic API functionality</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-2 font-medium">Testing</td>
                                <td class="px-4 py-2 text-center">90%+ coverage, comprehensive test suite</td>
                                <td class="px-4 py-2 text-center">70%+ coverage, good test cases</td>
                                <td class="px-4 py-2 text-center">Basic unit tests</td>
                            </tr>
                            <tr class="border-b">
                                <td class="px-4 py-2 font-medium">Performance</td>
                                <td class="px-4 py-2 text-center">Meets all performance requirements</td>
                                <td class="px-4 py-2 text-center">Meets most requirements</td>
                                <td class="px-4 py-2 text-center">Basic functionality works</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2 font-medium">Code Quality</td>
                                <td class="px-4 py-2 text-center">Clean, well-documented, follows best practices</td>
                                <td class="px-4 py-2 text-center">Good structure, some documentation</td>
                                <td class="px-4 py-2 text-center">Functional but basic</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </section>

    <!-- Success Criteria -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-green-100 bg-opacity-80 backdrop-blur-md border-4 border-green-300 shadow-lg rounded-full text-3xl text-green-600 transition-transform duration-200 hover:scale-110 animate-fade-in">‚úÖ</span>
            </div>
            <div
                class="bg-gradient-to-br from-green-50/80 to-white/80 backdrop-blur-md border-2 border-green-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-green-800 tracking-tight">Success Criteria</h2>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-xl font-semibold text-green-800 mb-3">Minimum Viable Product</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚úÖ Real-time messaging between users</li>
                            <li>‚úÖ Multiple chat rooms</li>
                            <li>‚úÖ User registration and authentication</li>
                            <li>‚úÖ Message persistence in database</li>
                            <li>‚úÖ Basic WebSocket connection handling</li>
                            <li>‚úÖ RESTful API endpoints</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-xl font-semibold text-green-800 mb-3">Advanced Features</h3>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚úÖ File sharing capabilities</li>
                            <li>‚úÖ User typing indicators</li>
                            <li>‚úÖ Message history and search</li>
                            <li>‚úÖ User presence (online/offline)</li>
                            <li>‚úÖ Private messaging</li>
                            <li>‚úÖ Message reactions and emojis</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Next Steps -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-blue-100 bg-opacity-80 backdrop-blur-md border-4 border-blue-300 shadow-lg rounded-full text-3xl text-blue-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üéØ</span>
            </div>
            <div
                class="bg-gradient-to-br from-blue-50/80 to-white/80 backdrop-blur-md border-2 border-blue-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-blue-800 tracking-tight">Getting Started</h2>
                <div class="space-y-4">
                    <div class="bg-blue-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-blue-800 mb-2">1. Set Up Your Environment</h3>
                        <p class="text-blue-700">Create a new directory for your project and set up a virtual
                            environment:</p>
                        <div class="bg-gray-900 text-green-400 p-3 rounded mt-2 font-mono text-sm">
                            <code>mkdir chat_application<br>
cd chat_application<br>
python -m venv venv<br>
source venv/bin/activate  # On Windows: venv\Scripts\activate<br>
pip install websockets aiohttp sqlite3</code>
                        </div>
                    </div>

                    <div class="bg-green-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-green-800 mb-2">2. Start with Database Design</h3>
                        <p class="text-green-700">Begin by implementing the database schema and basic CRUD operations.
                            This will be the foundation of your application.</p>
                    </div>

                    <div class="bg-yellow-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-yellow-800 mb-2">3. Build Incrementally</h3>
                        <p class="text-yellow-700">Follow the implementation phases step by step. Test each component
                            thoroughly before moving to the next phase.</p>
                    </div>

                    <div class="bg-purple-50 p-4 rounded-lg">
                        <h3 class="text-lg font-semibold text-purple-800 mb-2">4. Document Your Progress</h3>
                        <p class="text-purple-700">Keep a development log of your progress, challenges faced, and
                            solutions implemented. This will help with the final assessment.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Challenge Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-purple-700 flex items-center">
            <span class="bg-purple-100 text-purple-600 p-2 rounded-lg mr-3">üèÜ</span>
            Your Challenge Begins Now!
        </h2>
        <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border-l-4 border-purple-500">
            <p class="text-lg leading-relaxed mb-4">
                <strong>Ready to prove your mastery?</strong> This grand challenge will test every advanced Python
                concept you've learned.
                Build something amazing that you can be proud to showcase in your portfolio!
            </p>
            <div class="bg-purple-100 p-4 rounded-lg mt-4">
                <h3 class="text-lg font-semibold text-purple-800 mb-2">üéØ Challenge Checklist</h3>
                <ul class="space-y-2 text-purple-700">
                    <li>‚ñ° Complete all Advanced Level lessons (40-57)</li>
                    <li>‚ñ° Pass the Advanced Level Quiz with 70%+</li>
                    <li>‚ñ° Set up your development environment</li>
                    <li>‚ñ° Start with Phase 1: Database Design</li>
                    <li>‚ñ° Build incrementally through all phases</li>
                    <li>‚ñ° Test thoroughly at each stage</li>
                    <li>‚ñ° Document your progress and challenges</li>
                    <li>‚ñ° Submit your completed project</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- End of lesson congratulatory message -->
    <div
        class="max-w-4xl mx-auto mt-12 mb-4 p-6 bg-green-50 border-l-4 border-green-400 rounded-xl shadow text-center animate-fade-in">
        <div class="text-4xl mb-2">üéâ</div>
        <h2 class="text-2xl font-bold text-green-800 mb-2">Congratulations on Completing the Advanced Grand Challenge!
        </h2>
        <p class="text-lg text-green-700">You've reached the summit of the Advanced Level. Take pride in your
            achievement and the skills you've built. You're now ready to tackle expert topics and real-world Python
            projects. Keep pushing your limits and happy coding!</p>
    </div>

    <!-- Navigation Buttons-->
    <div class="flex justify-between items-center mt-12 pt-8 border-t border-gray-200">
        <a href="#" onclick="loadLesson('lessons/advanced_quiz.html')"
            class="flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200 font-semibold">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Previous: Advanced Level Quiz
        </a>
        <a href="#" onclick="loadLesson('lessons/data_science.html')"
            class="flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 font-semibold">
            Next: Data Science with Python
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>
</div>