<!-- This file contains ONLY the content for the "Constructors and Inheritance" lesson. -->
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-4xl font-extrabold text-gray-900">31. Constructors and Inheritance</h1>
            <span class="bg-orange-100 text-orange-800 text-sm font-medium px-3 py-1 rounded-full">Intermediate
                Level</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
            <!-- Progress bar: (31-21)/18 = 55.6% for intermediate (lessons 22-39) -->
            <div class="bg-gradient-to-r from-orange-500 to-red-500 h-3 rounded-full transition-all duration-300"
                style="width: 55.6%"></div>
        </div>
    </div>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center"><span
                class="mr-2">üèóÔ∏è</span>Understanding Constructors in Inheritance</h2>
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <p class="text-lg leading-relaxed mb-2">
                In the previous lessons, you learned about <a href="#" data-lesson-path="lessons/classes_objects.html"
                    class="text-indigo-600 hover:underline">Classes and Objects</a>, and <a href="#"
                    data-lesson-path="lessons/intro_to_oop.html" class="text-indigo-600 hover:underline">Intro to
                    OOP</a>. A crucial part of working with inherited classes is understanding how their <strong
                    class="text-indigo-600">constructors</strong> (the <code>__init__</code> method) behave.
            </p>
            <p class="text-lg leading-relaxed mb-0">
                When a child class inherits from a parent class, it also inherits the parent's <code>__init__</code>
                method. However, if the child class defines its own <code>__init__</code> method, it will override the
                parent's constructor. To properly initialize attributes from both the parent and child classes, you need
                a way to call the parent's constructor from within the child's <code>__init__</code> method.
            </p>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center"><span class="mr-2">üîó</span>The
            <code>super()</code> Function
        </h2>
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <p class="text-lg leading-relaxed mb-4">
                Python provides the <code class="font-mono bg-gray-100 px-1 py-0.5 rounded">super()</code> function for
                this purpose. <code class="font-mono bg-gray-100 px-1 py-0.5 rounded">super()</code> allows you to call
                a method from the parent (superclass) in a child class. It's most commonly used to call the parent's
                <code>__init__</code> method.
            </p>
            <p class="text-lg leading-relaxed">
                Syntax: <code
                    class="font-mono bg-gray-100 px-1 py-0.5 rounded">super().__init__(arguments_for_parent)</code>
            </p>
            <ul class="space-y-4">
                <li class="flex items-start bg-white border-l-4 border-indigo-400 rounded-lg p-4 shadow-sm">
                    <span class="mr-3 mt-1 text-indigo-500 text-xl">‚úÖ</span>
                    <div>Using <code>super()</code> ensures that the parent class's initialization logic is executed,
                        setting up any attributes defined in the parent.</div>
                </li>
                <li class="flex items-start bg-white border-l-4 border-indigo-400 rounded-lg p-4 shadow-sm">
                    <span class="mr-3 mt-1 text-indigo-500 text-xl">üîß</span>
                    <div>This is crucial for maintaining the integrity of the object's state across the inheritance
                        hierarchy.</div>
                </li>
            </ul>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center"><span class="mr-2">‚úçÔ∏è</span>Constructors
            and Inheritance Example</h2>
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <div class="flex items-center mb-3">
                <span class="text-blue-500 text-xl mr-2">üí°</span>
                <h3 class="text-xl font-semibold text-blue-800">Example: <code>Person</code> and <code>Student</code>
                    Classes</h3>
            </div>
            <div class="code-editor-example mb-4">
                <div class="code-editor-bar">
                    <div class="code-editor-dots flex gap-2">
                        <div class="code-editor-dot-red"></div>
                        <div class="code-editor-dot-yellow"></div>
                        <div class="code-editor-dot-green"></div>
                    </div>
                    <span class="text-gray-400 text-xs">person_student.py</span>
                </div>
                <pre><code><span style="color: #6272a4;"># Parent Class</span>
<span style="color: #ff79c6;">class</span> <span style="color: #50fa7b;">Person</span>:
    <span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">__init__</span>(<span style="color: #f8f8f2;">self</span>, <span style="color: #f8f8f2;">name</span>, <span style="color: #f8f8f2;">age</span>):
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">name</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">name</span>
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">age</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">age</span>
        <span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Person {self.name} created."</span>)

    <span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">get_person_info</span>(<span style="color: #f8f8f2;">self</span>):
        <span style="color: #ff79c6;">return</span> <span style="color: #f1fa8c;">f"Name: {self.name}, Age: {self.age}"</span>

<span style="color: #6272a4;"># Child Class inheriting from Person</span>
<span style="color: #ff79c6;">class</span> <span style="color: #50fa7b;">Student</span>(<span style="color: #f8f8f2;">Person</span>):
    <span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">__init__</span>(<span style="color: #f8f8f2;">self</span>, <span style="color: #f8f8f2;">name</span>, <span style="color: #f8f8f2;">age</span>, <span style="color: #f8f8f2;">student_id</span>, <span style="color: #f8f8f2;">major</span>):
        <span style="color: #6272a4;"># Call the parent class's constructor using super()</span>
        <span style="color: #ff79c6;">super</span>().<span style="color: #50fa7b;">__init__</span>(<span style="color: #f8f8f2;">name</span>, <span style="color: #f8f8f2;">age</span>)
        <span style="color: #6272a4;"># Initialize child class's own attributes</span>
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">student_id</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">student_id</span>
        <span style="color: #f8f8f2;">self</span>.<span style="color: #f8f8f2;">major</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">major</span>
        <span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Student {self.name} created with ID {self.student_id}."</span>)

    <span style="color: #6272a4;"># Override or extend parent method</span>
    <span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">get_student_details</span>(<span style="color: #f8f8f2;">self</span>):
        <span style="color: #6272a4;"># Reuse parent's info and add student-specific details</span>
        <span style="color: #f8f8f2;">person_info</span> <span style="color: #ff79c6;">=</span> <span style="color: #ff79c6;">super</span>().<span style="color: #50fa7b;">get_person_info</span>()
        <span style="color: #ff79c6;">return</span> <span style="color: #f1fa8c;">f"{person_info}, ID: {self.student_id}, Major: {self.major}"</span>

<span style="color: #6272a4;"># Create objects</span>
<span style="color: #f8f8f2;">person1</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">Person</span>(<span style="color: #f1fa8c;">"Alice"</span>, <span style="color: #bd93f9;">30</span>)
<span style="color: #50fa7b;">print</span>(<span style="color: #f8f8f2;">person1</span>.<span style="color: #50fa7b;">get_person_info</span>())

<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">"\n--- Creating a Student object ---"</span>)
<span style="color: #f8f8f2;">student1</span> <span style="color: #ff79c6;">=</span> <span style="color: #f8f8f2;">Student</span>(<span style="color: #f1fa8c;">"Bob"</span>, <span style="color: #bd93f9;">20</span>, <span style="color: #f1fa8c;">"S12345"</span>, <span style="color: #f1fa8c;">"Computer Science"</span>)
<span style="color: #50fa7b;">print</span>(<span style="color: #f8f8f2;">student1</span>.<span style="color: #50fa7b;">get_student_details</span>())

<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">"\n--- Accessing inherited attributes ---"</span>)
<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Student's name (inherited): {student1.name}"</span>)
<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Student's age (inherited): {student1.age}"</span>)
                </code></pre>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Expected Output:</h3>
                <pre class="text-green-400 text-sm"><code>Person Alice created.
Name: Alice, Age: 30

--- Creating a Student object ---
Person Bob created.
Student Bob created with ID S12345.
Name: Bob, Age: 20, ID: S12345, Major: Computer Science

--- Accessing inherited attributes ---
Student's name (inherited): Bob
Student's age (inherited): 20</code></pre>
            </div>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800">üß™ Try it Yourself</h2>
        <p class="text-lg leading-relaxed mb-4">
            Create a <code>Shape</code> parent class with a constructor that takes a <code>color</code>. Then, create a
            <code>Circle</code> child class that inherits from <code>Shape</code> and adds a <code>radius</code>
            attribute. Ensure <code>Circle</code>'s constructor correctly calls the parent's constructor using
            <code>super()</code>. Add a method to <code>Circle</code> to calculate its area.
        </p>
        <!-- Code Editor Area -->
        <div id="code-editor-container" class="bg-gray-50 p-6 rounded-lg shadow-inner border border-gray-200"></div>
        <script type="text/plain" id="default-code">
# Your code goes here

import math

# Parent class
class Shape:
    def __init__(self, color):
        self.color = color
        print(f"Shape of color {self.color} created.")

# Child class inheriting from Shape
class Circle(Shape):
    def __init__(self, color, radius):
        # Call the parent's constructor
        super().__init__(color)
        self.radius = radius
        print(f"Circle of color {self.color} and radius {self.radius} created.")

    def calculate_area(self):
        return math.pi * (self.radius ** 2)

# Create a Circle object
my_circle = Circle("Blue", 5)

# Access inherited attribute and call method
print(f"My circle's color: {my_circle.color}")
print(f"My circle's radius: {my_circle.radius}")
print(f"Area of my circle: {my_circle.calculate_area():.2f}")

print("\n--- Another circle ---")
another_circle = Circle("Red", 10)
print(f"Another circle's color: {another_circle.color}")
print(f"Area of another circle: {another_circle.calculate_area():.2f}")
        </script>
    </section>

    <!-- Challenge Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-orange-700 flex items-center">
            <span class="bg-orange-100 text-orange-600 p-2 rounded-lg mr-3">üèÜ</span>
            Challenge: Vehicle Inheritance Hierarchy
        </h2>
        <div class="bg-gradient-to-r from-orange-50 to-pink-50 p-6 rounded-lg border-l-4 border-orange-500">
            <p class="text-lg leading-relaxed mb-4">
                <strong>Scenario:</strong> Create a vehicle management system using inheritance. Design a hierarchy
                where different types of vehicles inherit from a base class.
            </p>
            <ul class="list-decimal list-inside ml-4 mt-2 text-lg leading-relaxed space-y-2">
                <li>Create a <code>Vehicle</code> parent class with attributes for <code>brand</code>,
                    <code>model</code>, and <code>year</code>.
                </li>
                <li>Create a <code>Car</code> child class that adds <code>num_doors</code> and <code>fuel_type</code>
                    attributes.</li>
                <li>Create a <code>Motorcycle</code> child class that adds <code>engine_size</code> and
                    <code>has_sidecar</code> attributes.
                </li>
                <li>Ensure all child classes properly call the parent constructor using <code>super()</code>.</li>
                <li>Add methods to display vehicle information and calculate maintenance costs.</li>
            </ul>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Sample Output:</h3>
                <pre class="text-green-400 text-sm"><code>Vehicle Toyota Camry 2020 created.
Car Toyota Camry 2020 with 4 doors and gasoline fuel created.
Vehicle Honda CBR 2021 created.
Motorcycle Honda CBR 2021 with 600cc engine created.

Car Details: Toyota Camry 2020, 4 doors, gasoline
Motorcycle Details: Honda CBR 2021, 600cc engine, no sidecar

Maintenance Costs:
Car: $500/year
Motorcycle: $300/year</code></pre>
            </div>
            <p class="text-md text-gray-600 mt-4">Try implementing this in the code editor above, or in your own Python
                environment!</p>
        </div>
    </section>

    <!-- Navigation Buttons -->
    <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
        <a href="#" onclick="loadLesson('lessons/classes_objects.html')"
            class="flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Previous: Classes and Objects
        </a>
        <div class="text-gray-600">
            <span class="text-sm">Lesson 31 of 71</span>
        </div>
        <a href="#" onclick="loadLesson('lessons/polymorphism_encapsulation.html')"
            class="flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200">
            Next: Polymorphism and Encapsulation
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>
</div>