<!-- This file contains ONLY the content for the "List Comprehensions" lesson. -->
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-4xl font-extrabold text-gray-900">18. List Comprehensions</h1>
            <span class="bg-green-100 text-green-800 text-sm font-medium px-3 py-1 rounded-full">Beginner</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-2 mb-6">
            <div class="bg-green-500 h-2 rounded-full" style="width: 85.7%"></div>
        </div>
    </div>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center">
            <span class="bg-indigo-100 text-indigo-600 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                </svg>
            </span>
            Concise List Creation
        </h2>
        <p class="text-lg leading-relaxed mb-4">
            <strong class="text-indigo-600">List comprehensions</strong> provide a concise way to create lists. They
            allow you to build new lists from existing sequences (like other lists, tuples, or strings) in a single,
            readable line of code. They are often more efficient and elegant than traditional `for` loops for list
            creation.
        </p>
        <p class="text-lg leading-relaxed">
            The basic syntax is: <code
                class="font-mono bg-gray-100 px-1 py-0.5 rounded">[expression for item in iterable if condition]</code>
        </p>
        <ul class="list-disc list-inside ml-4 mt-2 text-lg leading-relaxed">
            <li><code class="font-mono bg-gray-100 px-1 py-0.5 rounded">expression</code>: The item that will be added
                to the new list.</li>
            <li><code class="font-mono bg-gray-100 px-1 py-0.5 rounded">item</code>: The variable representing each
                element in the iterable.</li>
            <li><code class="font-mono bg-gray-100 px-1 py-0.5 rounded">iterable</code>: The sequence you are iterating
                over.</li>
            <li><code class="font-mono bg-gray-100 px-1 py-0.5 rounded">condition</code> (optional): A filter that
                determines if an item should be included.</li>
        </ul>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center">
            <span class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                </svg>
            </span>
            Basic List Comprehension Example
        </h2>
        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4">
            <h3 class="text-xl font-medium mb-2 text-gray-700">Example:</h3>
            <pre class="bg-gray-900 text-gray-100 p-4 rounded-md overflow-x-auto text-sm font-mono"
                style="background: #282a36; color: #f8f8f2;"><code><span style="color: #6272a4;"># Traditional loop to create a list of squares</span>
<span style="color: #f8f8f2;">squares_loop = []
</span><span style="color: #ff79c6;">for</span><span style="color: #f8f8f2;"> i </span><span style="color: #ff79c6;">in</span><span style="color: #f8f8f2;"> </span><span style="color: #8be9fd;">range</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">5</span><span style="color: #f8f8f2;">):
    squares_loop.</span><span style="color: #8be9fd;">append</span><span style="color: #f8f8f2;">(i * i)
</span><span style="color: #8be9fd;">print</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">"Squares (loop):"</span><span style="color: #f8f8f2;">, squares_loop)

</span><span style="color: #6272a4;"># Equivalent using list comprehension</span>
<span style="color: #f8f8f2;">squares_comp = [i * i </span><span style="color: #ff79c6;">for</span><span style="color: #f8f8f2;"> i </span><span style="color: #ff79c6;">in</span><span style="color: #f8f8f2;"> </span><span style="color: #8be9fd;">range</span><span style="color: #f8f8f2;">(</span><span style="color: #bd93f9;">5</span><span style="color: #f8f8f2;">)]
</span><span style="color: #8be9fd;">print</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">"Squares (comprehension):"</span><span style="color: #f8f8f2;">, squares_comp)

</span><span style="color: #6272a4;"># Creating a list of uppercase names</span>
<span style="color: #f8f8f2;">names = [</span><span style="color: #f1fa8c;">"alice"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"bob"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"charlie"</span><span style="color: #f8f8f2;">]
uppercase_names = [name.</span><span style="color: #8be9fd;">upper</span><span style="color: #f8f8f2;">() </span><span style="color: #ff79c6;">for</span><span style="color: #f8f8f2;"> name </span><span style="color: #ff79c6;">in</span><span style="color: #f8f8f2;"> names]
</span><span style="color: #8be9fd;">print</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">"Uppercase names:"</span><span style="color: #f8f8f2;">, uppercase_names)</code></pre>
            <div
                class="example-output bg-gray-100 p-2 sm:p-4 rounded-lg mt-2 border-l-4 border-green-500 w-full max-w-full">
                <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                    <span class="text-green-600 mr-2">📤</span>
                    Expected Output:
                </h4>
                <pre
                    class="bg-gray-800 text-green-400 p-2 sm:p-4 rounded text-xs sm:text-sm overflow-x-auto w-full max-w-full">[0, 1, 4, 9, 16]
['A', 'B', 'C', 'D']
[2, 4, 6, 8, 10]</pre>
            </div>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center">
            <span class="bg-green-100 text-green-600 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
            </span>
            List Comprehension with Condition Example
        </h2>
        <p class="text-lg leading-relaxed mb-4">
            You can add an `if` condition to filter elements.
        </p>
        <div class="bg-gray-50 p-4 rounded-lg border border-gray-200 mb-4">
            <h3 class="text-xl font-medium mb-2 text-gray-700">Example:</h3>
            <pre class="bg-gray-900 text-gray-100 p-4 rounded-md overflow-x-auto text-sm font-mono"
                style="background: #282a36; color: #f8f8f2;"><code><span style="color: #6272a4;"># Get only even numbers</span>
<span style="color: #f8f8f2;">numbers = [</span><span style="color: #bd93f9;">1</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">3</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">5</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">6</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">7</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">8</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">9</span><span style="color: #f8f8f2;">, </span><span style="color: #bd93f9;">10</span><span style="color: #f8f8f2;">]
even_numbers = [num </span><span style="color: #ff79c6;">for</span><span style="color: #f8f8f2;"> num </span><span style="color: #ff79c6;">in</span><span style="color: #f8f8f2;"> numbers </span><span style="color: #ff79c6;">if</span><span style="color: #f8f8f2;"> num % </span><span style="color: #bd93f9;">2</span><span style="color: #f8f8f2;"> == </span><span style="color: #bd93f9;">0</span><span style="color: #f8f8f2;">]
</span><span style="color: #8be9fd;">print</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">"Even numbers:"</span><span style="color: #f8f8f2;">, even_numbers)

</span><span style="color: #6272a4;"># Get names longer than 4 characters</span>
<span style="color: #f8f8f2;">fruits = [</span><span style="color: #f1fa8c;">"apple"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"banana"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"kiwi"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"grape"</span><span style="color: #f8f8f2;">, </span><span style="color: #f1fa8c;">"orange"</span><span style="color: #f8f8f2;">]
long_fruits = [fruit </span><span style="color: #ff79c6;">for</span><span style="color: #f8f8f2;"> fruit </span><span style="color: #ff79c6;">in</span><span style="color: #f8f8f2;"> fruits </span><span style="color: #ff79c6;">if</span><span style="color: #f8f8f2;"> </span><span style="color: #8be9fd;">len</span><span style="color: #f8f8f2;">(fruit) > </span><span style="color: #bd93f9;">4</span><span style="color: #f8f8f2;">]
</span><span style="color: #8be9fd;">print</span><span style="color: #f8f8f2;">(</span><span style="color: #f1fa8c;">"Long fruits:"</span><span style="color: #f8f8f2;">, long_fruits)</code></pre>
            <div class="example-output bg-gray-100 p-4 rounded-lg mt-2 border-l-4 border-green-500">
                <h4 class="font-semibold text-gray-800 mb-2 flex items-center">
                    <span class="text-green-600 mr-2">📤</span>
                    Expected Output:
                </h4>
                <pre class="bg-gray-800 text-green-400 p-3 rounded text-sm overflow-x-auto">Even numbers: [2, 4, 6, 8, 10]
Long fruits: ['apple', 'banana', 'grape', 'orange']</pre>
            </div>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center">
            <span class="bg-yellow-100 text-yellow-600 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253">
                    </path>
                </svg>
            </span>
            Try it Yourself!
        </h2>
        <p class="text-lg leading-relaxed mb-4">
            Create lists using list comprehensions. Try filtering and transforming elements.
        </p>

        <!-- Code Editor Area -->
        <div id="code-editor-container" class="bg-gray-50 p-6 rounded-lg shadow-inner border border-gray-200">
            <!-- CodeMirror editor will be injected here by JavaScript -->
        </div>
        <script type="text/plain" id="default-code-list-comprehensions"># Your code goes here
# Create a list of numbers multiplied by 10
original_numbers = [1, 2, 3, 4, 5]
multiplied_numbers = [num * 10 for num in original_numbers]
print("Multiplied numbers:", multiplied_numbers)

# Create a list of positive numbers from a mixed list
mixed_numbers = [-2, -1, 0, 1, 2, 3, -5]
positive_numbers = [num for num in mixed_numbers if num > 0]
print("Positive numbers:", positive_numbers)

# Create a list of strings with 'e' replaced by 'X'
words = ["hello", "world", "python", "code"]
transformed_words = [word.replace('e', 'X') for word in words]
print("Transformed words:", transformed_words)</script>
    </section>

    <!-- Challenge/Homework Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center">
            <span class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z">
                    </path>
                </svg>
            </span>
            🏆 Challenge: Data Processing Pipeline App
        </h2>
        <div class="bg-gradient-to-r from-red-50 to-pink-50 p-6 rounded-lg border-l-4 border-red-500">
            <p class="text-lg leading-relaxed mb-4">
                <strong>Project Goal:</strong> Create a data processing pipeline that uses list comprehensions to
                transform and filter data. This will combine concepts from previous lessons: variables, data types,
                operators, conditional statements, loops, and now list comprehensions.<br>
                <span class="text-sm text-gray-600">Process a dataset of student grades and generate various reports
                    using list comprehensions.</span>
            </p>
            <div class="grid md:grid-cols-2 gap-6 mb-6">
                <div class="bg-white p-4 rounded-lg border border-gray-200">
                    <h3 class="font-semibold text-gray-800 mb-3">📋 Requirements:</h3>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li>• Use a list of student grades (e.g., [85, 92, 78, 96, 88, 75, 90])</li>
                        <li>• Use list comprehensions to find high achievers (grades ≥ 90)</li>
                        <li>• Use list comprehensions to calculate grade percentages</li>
                        <li>• Use list comprehensions to categorize grades (A, B, C, D, F)</li>
                        <li>• Calculate average grade using built-in functions</li>
                        <li>• Display various statistics about the grades</li>
                    </ul>
                </div>
                <div class="bg-white p-4 rounded-lg border border-gray-200">
                    <h3 class="font-semibold text-gray-800 mb-3">🎯 Bonus Ideas:</h3>
                    <ul class="space-y-2 text-sm text-gray-600">
                        <li>• Add student names and create grade reports</li>
                        <li>• Calculate grade distribution (how many A's, B's, etc.)</li>
                        <li>• Find students who improved (compare two grade lists)</li>
                        <li>• Generate grade curves and adjustments</li>
                    </ul>
                </div>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">💡 Sample Output:</h3>
                <pre class="text-sm font-mono"
                    style="background: #282a36; color: #50fa7b; padding: 1rem; border-radius: 0.375rem;"><code>Student Grades: [85, 92, 78, 96, 88, 75, 90]
High Achievers (≥90): [92, 96, 90]
Grade Categories: ['B', 'A', 'C', 'A', 'B', 'C', 'A']
Average Grade: 86.29
Grade Distribution: {'A': 3, 'B': 2, 'C': 2}</code></pre>
            </div>
            <div class="mt-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg">
                <p class="text-yellow-800 text-sm">
                    <strong>💪 Challenge yourself:</strong> This project demonstrates the power of list comprehensions
                    for data processing! Use them to create clean, efficient code that transforms and analyzes data. Try
                    to make your pipeline flexible and reusable for different datasets.
                </p>
            </div>
        </div>
    </section>

    <!-- Navigation Buttons -->
    <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
        <a href="#" onclick="loadLesson('lessons/break_continue.html')"
            class="flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Previous: Break and Continue
        </a>
        <div class="text-gray-600">
            <span class="text-sm">Lesson 18 of 71</span>
        </div>
        <a href="#" onclick="loadLesson('lessons/functions.html')"
            class="flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200">
            Next: Functions and Parameters
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>
</div>