<!-- This file contains ONLY the content for the "Performance Optimization" lesson. -->
<div class="max-w-4xl mx-auto bg-white p-8 rounded-lg shadow-lg">
    <div class="mb-8">
        <div class="flex items-center justify-between mb-6">
            <h1 class="text-4xl font-extrabold text-gray-900">52. Performance Optimization</h1>
            <span
                class="bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full whitespace-nowrap">Advanced
                Level</span>
        </div>
        <div class="w-full bg-gray-200 rounded-full h-3 mb-6">
            <!-- Progress bar: (52-39)/18 = 72.2% for advanced (lessons 40-57) -->
            <div class="bg-gradient-to-r from-indigo-500 to-purple-500 h-3 rounded-full transition-all duration-300"
                style="width: 72.2%"></div>
        </div>
    </div>

    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-blue-100 bg-opacity-80 backdrop-blur-md border-4 border-blue-300 shadow-lg rounded-full text-3xl text-blue-600 transition-transform duration-200 hover:scale-110 animate-fade-in">‚ö°</span>
            </div>
            <div
                class="bg-gradient-to-br from-blue-50/80 to-white/80 backdrop-blur-md border-2 border-blue-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-blue-800 tracking-tight">Why Performance Optimization
                    Matters</h2>
                <p class="text-lg leading-relaxed mb-4">
                    <strong class="text-blue-600">Performance optimization</strong> is about making your code run as
                    efficiently as possible‚Äîreducing execution time, minimizing memory usage, and ensuring your program
                    scales well as data grows. In Python, optimization often starts with identifying bottlenecks, then
                    applying targeted improvements.
                </p>
                <p class="text-lg leading-relaxed mb-4">
                    <strong>Real-world scenarios:</strong>
                <ul class="list-disc list-inside ml-6 mt-2 text-lg leading-relaxed">
                    <li>Speeding up data analysis scripts for large datasets</li>
                    <li>Reducing latency in web applications</li>
                    <li>Optimizing resource usage in embedded or cloud environments</li>
                    <li>Improving user experience by making programs more responsive</li>
                </ul>
                </p>
                <p class="text-lg leading-relaxed">
                    Python is powerful, but understanding how to optimize your code can make a huge difference in real
                    projects.
                </p>
            </div>
        </div>
    </section>

    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-blue-100 bg-opacity-80 backdrop-blur-md border-4 border-blue-300 shadow-lg rounded-full text-3xl text-blue-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üí°</span>
            </div>
            <div
                class="bg-gradient-to-br from-blue-50/80 to-white/80 backdrop-blur-md border-2 border-blue-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-blue-800 tracking-tight">Key Concepts: Optimizing Python
                    Code</h2>
                <ul
                    class="list-disc list-inside ml-4 mt-2 text-lg leading-relaxed space-y-2 bg-white/90 border-l-4 border-blue-300 shadow-md rounded-xl p-6 animate-fade-in">
                    <li><strong class="text-blue-600">Profiling:</strong> Measuring where your code spends the most time
                        or uses the most memory.</li>
                    <li><strong class="text-blue-600">Bottlenecks:</strong> The slowest parts of your code that limit
                        overall performance.</li>
                    <li><strong class="text-blue-600">Algorithmic Complexity:</strong> Choosing efficient algorithms and
                        data structures (Big O notation).</li>
                    <li><strong class="text-blue-600">Built-in Functions:</strong> Using Python's optimized built-ins
                        (like <code>sum()</code>, <code>map()</code>, <code>sorted()</code>).</li>
                    <li><strong class="text-blue-600">Vectorization:</strong> Using libraries like NumPy to operate on
                        arrays efficiently.</li>
                    <li><strong class="text-blue-600">Memory vs. Speed Trade-offs:</strong> Sometimes you use more
                        memory to gain speed, or vice versa.</li>
                    <li><strong class="text-blue-600">Avoiding Unnecessary Work:</strong> Cache results, avoid repeated
                        calculations, and use generators for large data.</li>
                </ul>
            </div>
        </div>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-gray-800 flex items-center"><span class="mr-2">üìù</span>Performance
            Optimization Examples</h2>
        <!-- Example 1: Timing with time -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <div class="flex items-center mb-3">
                <span class="text-blue-500 text-xl mr-2">‚è±Ô∏è</span>
                <h3 class="text-xl font-semibold text-blue-800">Example: Timing with <code>time</code></h3>
            </div>
            <div class="code-editor-example mb-4">
                <div class="code-editor-bar">
                    <div class="code-editor-dots flex gap-2">
                        <div class="code-editor-dot-red"></div>
                        <div class="code-editor-dot-yellow"></div>
                        <div class="code-editor-dot-green"></div>
                    </div>
                    <span class="text-gray-400 text-xs">profile_example.py</span>
                </div>
                <pre><code><span style="color: #ff79c6;">import</span> <span style="color: #8be9fd;">time</span>

<span style="color: #6272a4;"># Simple timing</span>
<span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">slow_function</span>():
    <span style="color: #8be9fd;">total</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">0</span>
    <span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">10**6</span>):
        <span style="color: #8be9fd;">total</span> <span style="color: #ff79c6;">+=</span> <span style="color: #8be9fd;">i</span>
    <span style="color: #ff79c6;">return</span> <span style="color: #8be9fd;">total</span>

<span style="color: #8be9fd;">start</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">time</span>.<span style="color: #50fa7b;">time</span>()
<span style="color: #50fa7b;">slow_function</span>()
<span style="color: #8be9fd;">end</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">time</span>.<span style="color: #50fa7b;">time</span>()
<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Elapsed: {end - start:.4f} seconds"</span>)
</code></pre>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Expected Output:</h3>
                <pre class="text-green-400 text-sm"><code>Elapsed: 0.08 seconds
</code></pre>
            </div>
        </div>
        <!-- Example 2: Profiling with cProfile -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <div class="flex items-center mb-3">
                <span class="text-blue-500 text-xl mr-2">üìä</span>
                <h3 class="text-xl font-semibold text-blue-800">Example: Profiling with <code>cProfile</code></h3>
            </div>
            <div class="code-editor-example mb-4">
                <div class="code-editor-bar">
                    <div class="code-editor-dots flex gap-2">
                        <div class="code-editor-dot-red"></div>
                        <div class="code-editor-dot-yellow"></div>
                        <div class="code-editor-dot-green"></div>
                    </div>
                    <span class="text-gray-400 text-xs">cprofile_example.py</span>
                </div>
                <pre><code><span style="color: #ff79c6;">import</span> <span style="color: #f8f8f2;">cProfile</span>

<span style="color: #6272a4;"># Using cProfile for deeper analysis</span>
<span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">compute</span>():
    <span style="color: #ff79c6;">return</span> <span style="color: #50fa7b;">sum</span>(<span style="color: #8be9fd;">i</span><span style="color: #ff79c6;">*</span><span style="color: #8be9fd;">i</span> <span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">10**5</span>))

<span style="color: #f8f8f2;">cProfile</span>.<span style="color: #50fa7b;">run</span>(<span style="color: #f1fa8c;">'compute()'</span>)
</code></pre>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Expected Output (truncated):</h3>
                <pre class="text-green-400 text-sm"><code>ncalls  tottime  percall  ... function
1      0.008    0.008    ... compute
</code></pre>
            </div>
        </div>
        <!-- Example 3: Built-in Functions vs. Manual Loops -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <div class="flex items-center mb-3">
                <span class="text-blue-500 text-xl mr-2">‚ö°</span>
                <h3 class="text-xl font-semibold text-blue-800">Example: Built-in Functions vs. Manual Loops</h3>
            </div>
            <div class="code-editor-example mb-4">
                <div class="code-editor-bar">
                    <div class="code-editor-dots flex gap-2">
                        <div class="code-editor-dot-red"></div>
                        <div class="code-editor-dot-yellow"></div>
                        <div class="code-editor-dot-green"></div>
                    </div>
                    <span class="text-gray-400 text-xs">sum_example.py</span>
                </div>
                <pre><code><span style="color: #6272a4;"># Manual sum</span>
<span style="color: #8be9fd;">nums</span> <span style="color: #ff79c6;">=</span> <span style="color: #50fa7b;">list</span>(<span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">1000000</span>))
<span style="color: #8be9fd;">total</span> <span style="color: #ff79c6;">=</span> <span style="color: #bd93f9;">0</span>
<span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">n</span> <span style="color: #ff79c6;">in</span> <span style="color: #8be9fd;">nums</span>:
    <span style="color: #8be9fd;">total</span> <span style="color: #ff79c6;">+=</span> <span style="color: #8be9fd;">n</span>
<span style="color: #50fa7b;">print</span>(<span style="color: #8be9fd;">total</span>)

<span style="color: #6272a4;"># Built-in sum</span>
<span style="color: #50fa7b;">print</span>(<span style="color: #50fa7b;">sum</span>(<span style="color: #8be9fd;">nums</span>))
</code></pre>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Expected Output:</h3>
                <pre class="text-green-400 text-sm"><code>499999500000
499999500000
</code></pre>
            </div>
        </div>
        <!-- Example 4: List Comprehensions & Generator Expressions -->
        <div class="bg-blue-50 border border-blue-200 rounded-xl p-6 mb-8 shadow-sm">
            <div class="flex items-center mb-3">
                <span class="text-blue-500 text-xl mr-2">üßÆ</span>
                <h3 class="text-xl font-semibold text-blue-800">Example: List Comprehensions & Generator Expressions
                </h3>
            </div>
            <div class="code-editor-example mb-4">
                <div class="code-editor-bar">
                    <div class="code-editor-dots flex gap-2">
                        <div class="code-editor-dot-red"></div>
                        <div class="code-editor-dot-yellow"></div>
                        <div class="code-editor-dot-green"></div>
                    </div>
                    <span class="text-gray-400 text-xs">comprehension_example.py</span>
                </div>
                <pre><code><span style="color: #6272a4;"># List comprehension (eager)</span>
<span style="color: #8be9fd;">squares</span> <span style="color: #ff79c6;">=</span> [<span style="color: #8be9fd;">x</span><span style="color: #ff79c6;">*</span><span style="color: #8be9fd;">x</span> <span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">x</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">10</span>)]
<span style="color: #50fa7b;">print</span>(<span style="color: #8be9fd;">squares</span>)

<span style="color: #6272a4;"># Generator expression (lazy)</span>
<span style="color: #8be9fd;">gen</span> <span style="color: #ff79c6;">=</span> (<span style="color: #8be9fd;">x</span><span style="color: #ff79c6;">*</span><span style="color: #8be9fd;">x</span> <span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">x</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">10</span>))
<span style="color: #50fa7b;">print</span>(<span style="color: #50fa7b;">list</span>(<span style="color: #8be9fd;">gen</span>))
</code></pre>
            </div>
            <div class="bg-gray-900 p-4 rounded-lg">
                <h3 class="text-white font-semibold mb-3">üí° Expected Output:</h3>
                <pre class="text-green-400 text-sm"><code>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
</code></pre>
            </div>
        </div>
    </section>

    <!-- Memory Profiling & Optimization Section -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-green-100 bg-opacity-80 backdrop-blur-md border-4 border-green-300 shadow-lg rounded-full text-3xl text-green-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üß†</span>
            </div>
            <div
                class="bg-gradient-to-br from-green-50/80 to-white/80 backdrop-blur-md border-2 border-green-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-green-800 tracking-tight">Memory Profiling & Optimization
                </h2>
                <p class="text-lg leading-relaxed mb-4">
                    Sometimes, your code is slow because it uses too much memory. <strong class="text-green-600">Memory
                        profiling</strong> helps you find where memory is being allocated and if there are leaks or
                    inefficiencies.
                </p>
                <ul class="list-disc list-inside ml-6 mt-2 text-lg leading-relaxed">
                    <li>Use <code>sys.getsizeof()</code> to check object sizes.</li>
                    <li>Use <code>tracemalloc</code> to track memory allocations over time.</li>
                    <li>Release memory by deleting large objects or using generators instead of lists.</li>
                </ul>
                <div class="code-editor-example mt-6 mb-4">
                    <div class="code-editor-bar">
                        <div class="code-editor-dots flex gap-2">
                            <div class="code-editor-dot-red"></div>
                            <div class="code-editor-dot-yellow"></div>
                            <div class="code-editor-dot-green"></div>
                        </div>
                        <span class="text-gray-400 text-xs">memory_profile.py</span>
                    </div>
                    <pre><code><span style="color: #ff79c6;">import</span> <span style="color: #8be9fd;">sys</span>
<span style="color: #ff79c6;">import</span> <span style="color: #8be9fd;">tracemalloc</span>

<span style="color: #6272a4;"># Check object size</span>
<span style="color: #8be9fd;">nums</span> <span style="color: #ff79c6;">=</span> [<span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">for</span> <span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">1000000</span>)]
<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"List size: {sys.getsizeof(nums)} bytes"</span>)

<span style="color: #6272a4;"># Track allocations</span>
<span style="color: #8be9fd;">tracemalloc</span>.<span style="color: #50fa7b;">start</span>()
<span style="color: #8be9fd;">a</span> <span style="color: #ff79c6;">=</span> [<span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">*</span> <span style="color: #bd93f9;">2</span> <span style="color: #ff79c6;">for</span> <span style="color: #bd93f9;">i</span> <span style="color: #ff79c6;">in</span> <span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">1000000</span>)]
<span style="color: #8be9fd;">current</span>, <span style="color: #8be9fd;">peak</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">tracemalloc</span>.<span style="color: #50fa7b;">get_traced_memory</span>()
<span style="color: #50fa7b;">print</span>(<span style="color: #f1fa8c;">f"Current: {current / 10**6:.2f}MB; Peak: {peak / 10**6:.2f}MB"</span>)
<span style="color: #8be9fd;">tracemalloc</span>.<span style="color: #50fa7b;">stop</span>()
</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Vectorization with NumPy Section -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-yellow-100 bg-opacity-80 backdrop-blur-md border-4 border-yellow-300 shadow-lg rounded-full text-3xl text-yellow-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üìà</span>
            </div>
            <div
                class="bg-gradient-to-br from-yellow-50/80 to-white/80 backdrop-blur-md border-2 border-yellow-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-yellow-800 tracking-tight">Vectorization with NumPy</h2>
                <p class="text-lg leading-relaxed mb-4">
                    <strong class="text-yellow-600">Vectorization</strong> means operating on entire arrays at once,
                    rather than looping through elements. Libraries like <code>NumPy</code> are highly optimized for
                    this and can make your code much faster.
                </p>
                <div class="code-editor-example mt-6 mb-4">
                    <div class="code-editor-bar">
                        <div class="code-editor-dots flex gap-2">
                            <div class="code-editor-dot-red"></div>
                            <div class="code-editor-dot-yellow"></div>
                            <div class="code-editor-dot-green"></div>
                        </div>
                        <span class="text-gray-400 text-xs">vectorization_numpy.py</span>
                    </div>
                    <pre><code><span style="color: #ff79c6;">import</span> <span style="color: #8be9fd;">numpy</span> <span style="color: #ff79c6;">as</span> <span style="color: #8be9fd;">np</span>

<span style="color: #6272a4;"># Regular Python loop</span>
<span style="color: #8be9fd;">nums</span> <span style="color: #ff79c6;">=</span> <span style="color: #50fa7b;">list</span>(<span style="color: #50fa7b;">range</span>(<span style="color: #bd93f9;">1000000</span>))
<span style="color: #8be9fd;">squares</span> <span style="color: #ff79c6;">=</span> []
<span style="color: #ff79c6;">for</span> <span style="color: #8be9fd;">n</span> <span style="color: #ff79c6;">in</span> <span style="color: #8be9fd;">nums</span>:
    <span style="color: #8be9fd;">squares</span>.<span style="color: #50fa7b;">append</span>(<span style="color: #8be9fd;">n</span> <span style="color: #ff79c6;">*</span> <span style="color: #8be9fd;">n</span>)

<span style="color: #6272a4;"># NumPy vectorized</span>
<span style="color: #8be9fd;">arr</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">np</span>.<span style="color: #50fa7b;">arange</span>(<span style="color: #bd93f9;">1000000</span>)
<span style="color: #8be9fd;">squares_np</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">arr</span> <span style="color: #ff79c6;">*</span> <span style="color: #8be9fd;">arr</span>
</code></pre>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg">
                    <h3 class="text-white font-semibold mb-3">üí° Why is this faster?</h3>
                    <pre
                        class="text-green-400 text-sm"><code>NumPy uses optimized C code under the hood, so vectorized operations are much faster than Python loops!</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Caching & Memoization Section -->
    <section class="mb-8">
        <div class="relative mb-8">
            <div class="absolute -top-6 left-6 z-10">
                <span
                    class="inline-flex items-center justify-center w-14 h-14 bg-pink-100 bg-opacity-80 backdrop-blur-md border-4 border-pink-300 shadow-lg rounded-full text-3xl text-pink-600 transition-transform duration-200 hover:scale-110 animate-fade-in">üóÇÔ∏è</span>
            </div>
            <div
                class="bg-gradient-to-br from-pink-50/80 to-white/80 backdrop-blur-md border-2 border-pink-200 shadow-xl rounded-2xl p-8 pt-12 animate-fade-in">
                <h2 class="text-3xl font-extrabold mb-4 text-pink-800 tracking-tight">Caching & Memoization</h2>
                <p class="text-lg leading-relaxed mb-4">
                    <strong class="text-pink-600">Caching</strong> stores the results of expensive function calls so you
                    don‚Äôt repeat work. <strong>Memoization</strong> is a specific kind of caching for functions.
                </p>
                <div class="code-editor-example mt-6 mb-4">
                    <div class="code-editor-bar">
                        <div class="code-editor-dots flex gap-2">
                            <div class="code-editor-dot-red"></div>
                            <div class="code-editor-dot-yellow"></div>
                            <div class="code-editor-dot-green"></div>
                        </div>
                        <span class="text-gray-400 text-xs">memoization_example.py</span>
                    </div>
                    <pre><code><span style="color: #ff79c6;">from</span> <span style="color: #8be9fd;">functools</span> <span style="color: #ff79c6;">import</span> <span style="color: #8be9fd;">lru_cache</span>

<span style="color: #6272a4;"># Slow recursive Fibonacci</span>
<span style="color: #ff79c6;">def</span> <span style="color: #50fa7b;">fib</span>(<span style="color: #8be9fd;">n</span>):
    <span style="color: #ff79c6;">if</span> <span style="color: #8be9fd;">n</span> <span style="color: #ff79c6;">&lt;=</span> <span style="color: #bd93f9;">2</span>:
        <span style="color: #ff79c6;">return</span> <span style="color: #bd93f9;">1</span>
    <span style="color: #ff79c6;">return</span> <span style="color: #50fa7b;">fib</span>(<span style="color: #8be9fd;">n</span><span style="color: #ff79c6;">-</span><span style="color: #bd93f9;">1</span>) <span style="color: #ff79c6;">+</span> <span style="color: #50fa7b;">fib</span>(<span style="color: #8be9fd;">n</span><span style="color: #ff79c6;">-</span><span style="color: #bd93f9;">2</span>)

<span style="color: #6272a4;"># Fast with memoization</span>
<span style="color: #8be9fd;">fib_fast</span> <span style="color: #ff79c6;">=</span> <span style="color: #8be9fd;">lru_cache</span>(<span style="color: #bd93f9;">maxsize</span><span style="color: #ff79c6;">=</span><span style="color: #bd93f9;">128</span>)(<span style="color: #50fa7b;">fib</span>)

<span style="color: #50fa7b;">print</span>(<span style="color: #50fa7b;">fib_fast</span>(<span style="color: #bd93f9;">30</span>))
</code></pre>
                </div>
                <div class="bg-gray-900 p-4 rounded-lg">
                    <h3 class="text-white font-semibold mb-3">üí° Why is this faster?</h3>
                    <pre
                        class="text-green-400 text-sm"><code>lru_cache remembers previous results, so repeated calls are instant!</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- Best Practices Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-blue-700 flex items-center">
            <span class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3">‚úÖ</span>
            Best Practices for Performance Optimization
        </h2>
        <ul
            class="list-disc list-inside ml-6 mt-2 text-lg leading-relaxed space-y-2 bg-white/90 border-l-4 border-blue-300 shadow-md rounded-xl p-6 animate-fade-in">
            <li>Profile before you optimize‚Äîdon‚Äôt guess where the bottleneck is.</li>
            <li>Use built-in functions and libraries‚Äîthey‚Äôre usually faster than custom code.</li>
            <li>Prefer comprehensions and generator expressions for large data.</li>
            <li>Use vectorized operations (NumPy, pandas) for numerical data.</li>
            <li>Cache results of expensive computations if you need them again.</li>
            <li>Release memory by deleting large objects or using generators.</li>
            <li>Write clear, maintainable code‚Äîoptimize only when necessary.</li>
        </ul>
    </section>

    <!-- Common Pitfalls Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-red-700 flex items-center">
            <span class="bg-red-100 text-red-600 p-2 rounded-lg mr-3">‚ö†Ô∏è</span>
            Common Pitfalls
        </h2>
        <ul
            class="list-disc list-inside ml-6 mt-2 text-lg leading-relaxed space-y-2 bg-white/90 border-l-4 border-red-300 shadow-md rounded-xl p-6 animate-fade-in">
            <li>Optimizing without measuring‚Äîcan waste time and make code worse.</li>
            <li>Premature optimization‚Äîwrite correct code first, then optimize.</li>
            <li>Ignoring memory usage‚Äîcan cause crashes or slowdowns.</li>
            <li>Reinventing the wheel‚Äîuse proven libraries when possible.</li>
            <li>Overusing global variables or mutable data‚Äîcan lead to bugs and inefficiency.</li>
        </ul>
    </section>

    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-green-700 flex items-center">
            <span class="bg-green-100 text-green-600 p-2 rounded-lg mr-3">üß™</span>
            Try it Yourself
        </h2>
        <div class="bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6 shadow-sm mb-6">
            <p class="text-lg leading-relaxed mb-4">
                The following code is slow. Can you make it faster? (Hint: Use built-in functions or comprehensions!)
            </p>
        </div>
        <!-- Code Editor Area -->
        <div id="code-editor-container" class="bg-gray-50 p-6 rounded-lg shadow-inner border border-gray-200"></div>
        <script type="text/plain" id="default-code">
import time

# Simple timing
def slow_function():
    total = 0
    for i in range(10**6):
        total += i
    return total

start = time.time()
slow_function()
end = time.time()
print(f"Elapsed: {end - start:.4f} seconds")
        </script>
    </section>

    <!-- Challenge Section -->
    <section class="mb-8">
        <h2 class="text-2xl font-semibold mb-4 text-purple-700 flex items-center">
            <span class="bg-purple-100 text-purple-600 p-2 rounded-lg mr-3">üèÜ</span>
            Project Challenge: Real-World Optimization
        </h2>
        <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-6 rounded-lg border-l-4 border-purple-500">
            <p class="text-lg leading-relaxed mb-4">
                <strong>Scenario:</strong> You inherit a Python script that processes a huge CSV file and takes 10
                minutes to run. Your task is to:
            </p>
            <ul class="list-decimal list-inside ml-4 mt-2 text-lg leading-relaxed space-y-2">
                <li>Profile the script to find the slowest part (use <code>cProfile</code> or <code>time</code>).</li>
                <li>Suggest and implement at least two optimizations (e.g., use built-ins, avoid unnecessary loops, use
                    generators, or vectorize with NumPy).</li>
                <li>Measure and report the new runtime.</li>
            </ul>
            <p class="text-md text-gray-600 mt-4">Document your process and explain your choices. (You can use a sample
                CSV and simulate slow code if needed.)</p>
        </div>
    </section>

    <!-- Navigation Buttons -->
    <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
        <a href="#" onclick="loadLesson('lessons/multiprocessing.html')"
            class="flex items-center px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors duration-200">
            <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Previous: Multiprocessing
        </a>
        <div class="text-gray-600">
            <span class="text-sm">Lesson 52 of 71</span>
        </div>
        <a href="#" onclick="loadLesson('lessons/json_csv.html')"
            class="flex items-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200">
            Next: Working with JSON and CSV
            <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </a>
    </div>
</div>